# Субагенты проекта

В проекте доступны два субагента для сбора данных об активности. Вызываются через `Task` tool.

## activity-data-collector

**Назначение**: сбор сырых данных об активности в **текущем проекте** (git-коммиты, изменённые файлы, ветки).

**Когда использовать**:
- Пользователь спрашивает, что он делал в текущем проекте за период
- Нужны сырые данные (коммиты, diff-статистика) для дальнейшего анализа или отчёта
- Подготовка данных для формирования отчётов по одному проекту

**Вызов**:
```
Task(
  subagent_type: "activity-data-collector",
  prompt: "Собери данные об активности за период с YYYY-MM-DD по YYYY-MM-DD",
  description: "Collect activity data"
)
```

**Что возвращает**: сырой вывод без обработки — git log, изменённые файлы, ветки, статистика сбора. Данные нужно самостоятельно анализировать и форматировать.

**Модель**: sonnet (быстрый, дешёвый).

**Ключевые особенности**:
- Работает только с текущим проектом (cwd)
- Не суммаризирует — возвращает raw data
- Включает пустые секции, если данных нет
- Не задаёт уточняющих вопросов — интерпретирует период самостоятельно

---

## project-activity-digest

**Назначение**: сканирование **всех проектов** в папках из `PROJECTS_DIRS` (`.env`) и формирование готовой сводки.

**Когда использовать**:
- Пользователь спрашивает, чем занимался в целом (across all projects)
- Нужна готовая сводка по всем проектам с группировкой
- В скилле `weekly-review` — для секции «Проекты (локальная разработка)»

**Вызов**:
```
Task(
  subagent_type: "project-activity-digest",
  prompt: "Покажи активность в проектах за период с YYYY-MM-DD по YYYY-MM-DD",
  description: "Project activity digest"
)
```

**Что возвращает**: готовую отформатированную сводку на русском — по каждому активному проекту: что сделано, количество коммитов и файлов. Можно вставлять в отчёт как есть.

**Модель**: sonnet.

**Ключевые особенности**:
- Сканирует проекты в папках из `PROJECTS_DIRS` в `.env` (по умолчанию `~/Projects`)
- Кеширует список проектов в `~/.cache/project-activity-digest/`
- Группирует коммиты по смыслу (не перечисляет каждый)
- Пропускает неактивные проекты
- Возвращает готовый текст на русском

---

## Когда какой агент выбирать

| Сценарий | Агент |
|----------|-------|
| «Что я делал в этом проекте?» | `activity-data-collector` |
| «Что я делал на неделе?» (все проекты) | `project-activity-digest` |
| Скилл `weekly-review`, секция «Проекты» | `project-activity-digest` |
| Нужны сырые данные для своего анализа | `activity-data-collector` |
| Нужна готовая сводка для пользователя | `project-activity-digest` |
